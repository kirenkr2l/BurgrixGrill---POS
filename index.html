<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BURGRIX POS ‚Äì Multi Item</title>
<style>
body { font-family: Arial, sans-serif; background: #fff7f2; margin: 0; padding: 15px; }
h1 { text-align: center; margin-bottom: 10px; }
.section { margin-bottom: 15px; }
button { padding: 10px; margin: 3px; font-size: 14px; border: none; border-radius: 8px; color: #fff; }
.item-btn { background: #ff6a00; }
.qty-btn { background: #444; }
.payment-btn { background: #00b050; }
.active { outline: 3px solid #000; background-color: #ffa500; }
.submit-btn { width: 100%; padding: 15px; font-size: 18px; border-radius: 10px; background: #0073e6; color: #fff; margin-top:10px; }
.total, .order-summary { font-size: 18px; font-weight: bold; margin-top:10px; }
.order-item { display: flex; justify-content: space-between; align-items: center; margin-bottom:5px; padding:5px; background:#ffe0c4; border-radius:6px; }
.order-item span { flex:1; }
.delete-btn { background:red; color:#fff; border-radius:6px; padding:4px 6px; font-size:12px; }
.ack-btn { background:#0073e6; margin:5px; padding:10px; border-radius:6px; color:#fff; font-size:16px; width:48%; }
</style>
</head>
<body>

<h1>üçî BURGRIX POS</h1>

<div class="section">
  <h3>Select Item</h3>
  <div id="menuItems"></div>
</div>

<div class="section">
  <h3>Quantity (1‚Äì20)</h3>
  <div id="qtyButtons"></div>
</div>

<div class="section">
  <h3>Payment Method</h3>
  <button class="payment-btn" onclick="setPayment('Cash', this)">Cash</button>
  <button class="payment-btn" onclick="setPayment('QR ‚Äì Maybank', this)">QR ‚Äì Maybank</button>
  <button class="payment-btn" onclick="setPayment('QR ‚Äì Touch n Go', this)">QR ‚Äì Touch n Go</button>
  <button class="payment-btn" onclick="setPayment('PH ‚Äì PowerHouzz', this)">PH ‚Äì PowerHouzz</button>
</div>

<div class="section order-summary" id="orderSummary">
  <h3>Current Order</h3>
  <div id="orderList"></div>
  <div class="total" id="grandTotal">Total: RM 0.00</div>
</div>

<button class="submit-btn" onclick="submitOrders()">SUBMIT ORDER</button>

<div id="ackButtons" style="display:none; text-align:center; margin-top:10px;">
  <button class="ack-btn" onclick="ackPayment()">Payment Received</button>
  <button class="ack-btn" onclick="ackPrepare()">Proceed to Prepare Orders</button>
</div>

<script>
// MENU ITEMS
const menu = [
  {name:"Chicken Burger", price:13.9},
  {name:"Mutton Burger", price:17.9},
  {name:"Fish Burger", price:15.9},
  {name:"Crispy Tandoori Burger", price:16.9},
  {name:"Grilled Chicken Chop", price:15.9},
  {name:"Fish & Chips", price:16.9}
];

let selectedItem = null;
let quantity = 1;
let paymentMethod = "";
let currentOrders = [];

// CREATE MENU BUTTONS
const menuDiv = document.getElementById("menuItems");
menu.forEach((item,index)=>{
  const btn=document.createElement("button");
  btn.classList.add("item-btn");
  btn.innerText=`${item.name} ‚Äì RM${item.price.toFixed(2)}`;
  btn.onclick=()=>{
    selectedItem={...item};
    document.querySelectorAll('.item-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
  };
  menuDiv.appendChild(btn);
});

// QUANTITY BUTTONS 1-20
const qtyDiv=document.getElementById("qtyButtons");
for(let i=1;i<=20;i++){
  const btn=document.createElement("button");
  btn.classList.add("qty-btn");
  btn.innerText=i;
  btn.onclick=()=>{
    quantity=i;
    document.querySelectorAll('.qty-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
  };
  qtyDiv.appendChild(btn);
}

// PAYMENT SELECTION
function setPayment(p,btn){
  paymentMethod=p;
  document.querySelectorAll('.payment-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}

// ADD CURRENT SELECTION TO ORDER
function addToOrder(){
  if(!selectedItem || !quantity) return;
  const existing=currentOrders.find(o=>o.name===selectedItem.name);
  if(existing){ existing.qty+=quantity; existing.subtotal=existing.qty*existing.price; }
  else{ currentOrders.push({name:selectedItem.name, qty:quantity, price:selectedItem.price, subtotal:selectedItem.price*quantity}); }
  updateOrderList();
}

// UPDATE ORDER SUMMARY
function updateOrderList(){
  const listDiv=document.getElementById("orderList");
  listDiv.innerHTML="";
  let total=0;
  currentOrders.forEach((o,index)=>{
    total+=o.subtotal;
    const div=document.createElement("div");
    div.classList.add("order-item");
    div.innerHTML=`<span>${o.name} x ${o.qty} ‚Äì RM ${o.subtotal.toFixed(2)}</span>
    <button class="delete-btn" onclick="deleteOrder(${index})">Delete</button>`;
    listDiv.appendChild(div);
  });
  document.getElementById("grandTotal").innerText=`Total: RM ${total.toFixed(2)}`;
}

// DELETE ITEM
function deleteOrder(index){
  currentOrders.splice(index,1);
  updateOrderList();
}

// SUBMIT ORDERS
function submitOrders(){
  if(currentOrders.length===0 || !paymentMethod){ alert("Select items and payment"); return;}
  currentOrders.forEach(o=>o.payment=paymentMethod);

  // SEND TO GOOGLE SHEETS
  fetch("YOUR_WEB_APP_URL_HERE", {
    method:"POST",
    body: JSON.stringify(currentOrders)
  })
  .then(response=>response.json())
  .then(data=>{
    if(data.result==="success"){
      alert("‚úÖ Orders Received and saved online!");
      currentOrders=[];
      updateOrderList();
      document.getElementById("ackButtons").style.display="block";
    }else{
      alert("‚ùå Error saving order!");
    }
  })
  .catch(err=>alert("‚ùå Error: "+err));
}

// ACK BUTTONS
function ackPayment(){ alert("Payment Received ‚úÖ"); }
function ackPrepare(){ alert("Order is now in preparation ‚úÖ"); }

// AUTO ADD ITEM TO ORDER WHEN SELECTED
document.querySelectorAll('.qty-btn').forEach(btn=>btn.addEventListener('click', addToOrder));
document.querySelectorAll('.item-btn').forEach(btn=>btn.addEventListener('click', addToOrder));

</script>

</body>
</html>
